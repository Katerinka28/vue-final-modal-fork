(function(S,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("@vueuse/core"),require("@vueuse/integrations/useFocusTrap")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core","@vueuse/integrations/useFocusTrap"],n):(S=typeof globalThis<"u"?globalThis:S||self,n(S.index={},S.Vue,S.VueUse,S.VueUseFocusTrap))})(this,function(S,n,V,pe){"use strict";const A={modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:e=>["if","show"].includes(e)},hideOverlay:{type:Boolean,default:void 0},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:e=>["interactive","non-interactive"].includes(e)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:e})=>1e3+2*e},swipeToClose:{type:String,default:"none",validator:e=>["none","up","right","down","left"].includes(e)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function X(e=!1){const o=n.ref(e),t=n.ref(o.value?0:void 0);return[o,t,{beforeEnter(){t.value=1},afterEnter(){t.value=0},beforeLeave(){t.value=3},afterLeave(){t.value=2}}]}function me(e,o){const{modelValueLocal:t,onEntering:s,onEnter:d,onLeaving:l,onLeave:r}=o,i=n.ref(t.value),[c,f,u]=X(i.value),[h,p,m]=X(i.value),C=n.computed(()=>typeof e.contentTransition=="string"?{name:e.contentTransition}:{...e.contentTransition}),O=n.computed(()=>typeof e.overlayTransition=="string"?{name:e.overlayTransition}:{...e.overlayTransition}),k=n.computed(()=>(e.hideOverlay||p.value===2)&&f.value===2);n.watch(k,B=>{B&&(i.value=!1)}),n.watch(f,B=>{switch(B){case 1:return s();case 0:return d();case 3:return l();case 2:return r()}});async function M(){i.value=!0,await n.nextTick(),c.value=!0,h.value=!0}function E(){c.value=!1,h.value=!1}return{visible:i,contentVisible:c,contentListeners:u,contentTransition:C,overlayVisible:h,overlayListeners:m,overlayTransition:O,enterTransition:M,leaveTransition:E}}function ve(e,o,t){const{vfmRootEl:s,visible:d,modelValueLocal:l}=t,r=n.ref();function i(){d.value&&e.escToClose&&(l.value=!1)}function c(u){r.value=u==null?void 0:u.target}function f(){r.value===s.value&&(e.clickToClose?l.value=!1:o("clickOutside"))}return{onEsc:i,onMouseupRoot:f,onMousedown:c}}function he(e,o){const t=n.ref(!!e.modelValue);return n.watch(()=>e.modelValue,s=>{t.value=!!s}),n.watch(t,s=>{s!==e.modelValue&&o("update:modelValue",s)}),{modelValueLocal:t}}function ye(e,o){if(e.focusTrap===!1)return{focus(){},focusLast(){},blur(){}};const{focusEl:t,openedModals:s}=o,{hasFocus:d,activate:l,deactivate:r}=pe.useFocusTrap(t,e.focusTrap);function i(){requestAnimationFrame(()=>{l()})}function c(){s.length<=0||n.nextTick(()=>{const u=s[s.length-1];u==null||u.value.focus()})}function f(){d.value&&r()}return{focus:i,focusLast:c,blur:f}}let W=!1;if(typeof window<"u"){const e={get passive(){W=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const q=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let P=[],F=!1,H=0,Z=-1,x,N;const we=e=>{if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const o=window.getComputedStyle(e);return["auto","scroll"].includes(o.overflowY)&&e.scrollHeight>e.clientHeight},be=(e,o)=>!(e.scrollTop===0&&o<0||e.scrollTop+e.clientHeight+o>=e.scrollHeight&&o>0),Te=e=>{const o=[];for(;e;){if(o.push(e),e.classList.contains("vfm"))return o;e=e.parentElement}return o},Se=(e,o)=>{let t=!1;return Te(e).forEach(d=>{we(d)&&be(d,o)&&(t=!0)}),t},K=e=>P.some(()=>Se(e,-H)),j=e=>{const o=e||window.event;return K(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},Me=e=>{if(N===void 0){const o=!!e&&e.reserveScrollBarGap===!0,t=window.innerWidth-document.documentElement.clientWidth;if(o&&t>0){const s=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);N=document.body.style.paddingRight,document.body.style.paddingRight=`${s+t}px`}}x===void 0&&(x=document.body.style.overflow,document.body.style.overflow="hidden")},ge=()=>{N!==void 0&&(document.body.style.paddingRight=N,N=void 0),x!==void 0&&(document.body.style.overflow=x,x=void 0)},Ce=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,Ee=(e,o)=>(H=e.targetTouches[0].clientY-Z,K(e.target)?!1:o&&o.scrollTop===0&&H>0||Ce(o)&&H<0?j(e):(e.stopPropagation(),!0)),ke=(e,o)=>{if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(P.some(s=>s.targetElement===e))return;const t={targetElement:e,options:o||{}};P=[...P,t],q?(e.ontouchstart=s=>{s.targetTouches.length===1&&(Z=s.targetTouches[0].clientY)},e.ontouchmove=s=>{s.targetTouches.length===1&&Ee(s,e)},F||(document.addEventListener("touchmove",j,W?{passive:!1}:void 0),F=!0)):Me(o)},Be=e=>{if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}P=P.filter(o=>o.targetElement!==e),q?(e.ontouchstart=null,e.ontouchmove=null,F&&P.length===0&&(document.removeEventListener("touchmove",j,W?{passive:!1}:void 0),F=!1)):P.length||ge()};function Ve(e,o){const{lockScrollEl:t}=o;n.watch(()=>e.lockScroll,l=>{l?d():s()}),n.onBeforeUnmount(()=>{s()});function s(){t.value&&Be(t.value)}function d(){e.lockScroll&&t.value&&ke(t.value,{reserveScrollBarGap:!0,allowTouchMove:l=>{for(;l&&l!==document.body;){if(l.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;l=l.parentElement}return!1}})}return{enableBodyScroll:s,disableBodyScroll:d}}function Oe(e){function o(t){switch(t){case"beforeOpen":e(t);break;case"beforeClose":e(t);break;case"opened":e(t);break;case"closed":e(t);break}}return{emitEvent:o}}function Le(e,o){const{openedModals:t}=o,s=n.ref();function d(){var l;s.value=(l=e.zIndexFn)==null?void 0:l.call(e,{index:t.length})}return{zIndex:s,refreshZIndex:d}}const Pe=e=>(...o)=>{e&&(e==null||e(...o),e=null)},z=()=>{};function U(e,o,t){return e>t?t:e<o?o:e}const _=e=>{if(e instanceof TouchEvent){const{clientX:o,clientY:t}=e.targetTouches[0];return{x:o,y:t}}else{const{clientX:o,clientY:t}=e;return{x:o,y:t}}};function Ie(e){if(!e)return!1;let o=!1;const t={get passive(){return o=!0,!1}};return e.addEventListener("x",z,t),e.removeEventListener("x",z),o}function De(e,{threshold:o=0,onSwipeStart:t,onSwipe:s,onSwipeEnd:d,passive:l=!0}){const r=n.reactive({x:0,y:0}),i=n.reactive({x:0,y:0}),c=n.computed(()=>r.x-i.x),f=n.computed(()=>r.y-i.y),{max:u,abs:h}=Math,p=n.computed(()=>u(h(c.value),h(f.value))>=o),m=n.ref(!1),C=n.computed(()=>p.value?h(c.value)>h(f.value)?c.value>0?"left":"right":f.value>0?"up":"down":"none"),O=(v,y)=>{r.x=v,r.y=y},k=(v,y)=>{i.x=v,i.y=y};let M,E;function B(v){M.capture&&!M.passive&&v.preventDefault();const{x:y,y:D}=_(v);O(y,D),k(y,D),t==null||t(v),E=[V.useEventListener(e,"mousemove",I,M),V.useEventListener(e,"touchmove",I,M),V.useEventListener(e,"mouseup",a,M),V.useEventListener(e,"touchend",a,M),V.useEventListener(e,"touchcancel",a,M)]}function I(v){const{x:y,y:D}=_(v);k(y,D),!m.value&&p.value&&(m.value=!0),m.value&&(s==null||s(v))}function a(v){m.value&&(d==null||d(v,C.value)),m.value=!1,E.forEach(y=>y())}let w=[];return n.onMounted(()=>{const v=Ie(window==null?void 0:window.document);l?M=v?{passive:!0}:{capture:!1}:M=v?{passive:!1,capture:!0}:{capture:!0},w=[V.useEventListener(e,"mousedown",B,M),V.useEventListener(e,"touchstart",B,M)]}),{isSwiping:m,direction:C,coordsStart:r,coordsEnd:i,lengthX:c,lengthY:f,stop:()=>{w.forEach(v=>v()),E.forEach(v=>v())}}}function xe(e,o){const{modelValueLocal:t}=o,s=.1,d=300,l=n.ref(),r=n.ref(),i=n.computed(()=>e.showSwipeBanner?r.value:l.value),c=n.ref(0),f=n.ref(!0);let u=z,h=!0,p,m=!1;const{lengthX:C,lengthY:O,direction:k,isSwiping:M}=De(i,{threshold:e.threshold,onSwipeStart(a){u=V.useEventListener(document,"selectionchange",()=>{var w;f.value=(w=window.getSelection())==null?void 0:w.isCollapsed}),p=new Date().getTime(),m=E(a==null?void 0:a.target)},onSwipe(){var a,w,L,v;if(m&&f.value&&k.value===e.swipeToClose){if(k.value==="up"){const y=U(Math.abs(O.value||0),0,((a=i.value)==null?void 0:a.offsetHeight)||0)-(e.threshold||0);c.value=y}else if(k.value==="down"){const y=U(Math.abs(O.value||0),0,((w=i.value)==null?void 0:w.offsetHeight)||0)-(e.threshold||0);c.value=-y}else if(k.value==="right"){const y=U(Math.abs(C.value||0),0,((L=i.value)==null?void 0:L.offsetWidth)||0)-(e.threshold||0);c.value=-y}else if(k.value==="left"){const y=U(Math.abs(C.value||0),0,((v=i.value)==null?void 0:v.offsetWidth)||0)-(e.threshold||0);c.value=y}}},onSwipeEnd(a,w){if(u(),!f.value){f.value=!0;return}const L=new Date().getTime(),v=w===e.swipeToClose,y=(()=>{var $,G;if(w==="up"||w==="down")return Math.abs((O==null?void 0:O.value)||0)>s*((($=i.value)==null?void 0:$.offsetHeight)||0);if(w==="left"||w==="right")return Math.abs((C==null?void 0:C.value)||0)>s*(((G=i.value)==null?void 0:G.offsetWidth)||0)})(),D=L-p<=d;if(h&&m&&v&&(y||D)){c.value=0,t.value=!1;return}c.value=0}});n.watch(()=>f.value,a=>{a||(c.value=0)}),n.watch(()=>c.value,(a,w)=>{switch(e.swipeToClose){case"down":case"right":h=a<w;break;case"up":case"left":h=a>w;break}});function E(a){const w=a==null?void 0:a.tagName;if(!w||["INPUT","TEXTAREA"].includes(w))return!1;const L=(()=>{switch(e.swipeToClose){case"up":return(a==null?void 0:a.scrollTop)+(a==null?void 0:a.clientHeight)===(a==null?void 0:a.scrollHeight);case"left":return(a==null?void 0:a.scrollLeft)+(a==null?void 0:a.clientWidth)===(a==null?void 0:a.scrollWidth);case"down":return(a==null?void 0:a.scrollTop)===0;case"right":return(a==null?void 0:a.scrollLeft)===0;default:return!1}})();return a===i.value?L:L&&E(a==null?void 0:a.parentElement)}n.watch(()=>t.value,a=>{a&&(c.value=0)});const B=n.computed(()=>{if(e.swipeToClose==="none")return;const a=(()=>{switch(e.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!M.value},style:M.value?{transform:`${a}(${-c.value}px)`}:""}});function I(a){e.preventNavigationGestures&&a.preventDefault()}return{vfmContentEl:l,swipeBannerEl:r,bindSwipe:B,onTouchStartSwipeBanner:I}}const J=n.defineComponent({__name:"CoreModal",props:A,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{emit:o}){const t=e,s=o,{modals:d,openedModals:l}=Y(),{moveToLastOpenedModals:r,openLastOverlay:i,deleteFromOpenedModals:c,deleteFromModals:f}=te(),u=n.ref(),{zIndex:h,refreshZIndex:p}=Le(t,{openedModals:l}),{focus:m,focusLast:C,blur:O}=ye(t,{focusEl:u,openedModals:l}),{enableBodyScroll:k,disableBodyScroll:M}=Ve(t,{lockScrollEl:u}),{modelValueLocal:E}=he(t,s),{emitEvent:B}=Oe(s);let I=z;const{visible:a,contentVisible:w,contentListeners:L,contentTransition:v,overlayVisible:y,overlayListeners:D,overlayTransition:$,enterTransition:G,leaveTransition:Ge}=me(t,{modelValueLocal:E,async onEntering(){m(),await n.nextTick(),M()},onEnter(){B("opened"),I("opened")},onLeaving(){O()},onLeave(){B("closed"),I("closed")}}),{onEsc:ie,onMouseupRoot:We,onMousedown:ce}=ve(t,s,{vfmRootEl:u,visible:a,modelValueLocal:E}),{vfmContentEl:Xe,swipeBannerEl:qe,bindSwipe:Ze,onTouchStartSwipeBanner:de}=xe(t,{modelValueLocal:E}),ue=n.toRef(t,"hideOverlay"),R=n.computed(()=>({modalId:t.modalId,hideOverlay:ue,overlayVisible:y,focus:m,toggle(b){return new Promise(T=>{I=Pe(_e=>T(_e));const g=typeof b=="boolean"?b:!E.value;E.value=g,s("update:modelValue",g)})}}));n.onMounted(()=>{d.push(R)}),E.value&&fe(),n.watch(E,b=>{b?fe():Ke()});async function fe(){B("beforeOpen"),p(),r(R),i(),G()}function Ke(){B("beforeClose"),k(),c(R),C(),i(),Ge()}return n.onBeforeUnmount(()=>{k(),f(R),c(R),C(),i()}),(b,T)=>b.displayDirective!=="if"||n.unref(a)?n.withDirectives((n.openBlock(),n.createElementBlock("div",{key:0,ref_key:"vfmRootEl",ref:u,class:n.normalizeClass(["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":b.background==="interactive"}]),style:n.normalizeStyle({zIndex:n.unref(h)}),role:"dialog","aria-modal":"true",onKeydown:T[7]||(T[7]=n.withKeys((...g)=>n.unref(ie)&&n.unref(ie)(...g),["esc"])),onMouseup:T[8]||(T[8]=n.withModifiers(()=>n.unref(We)(),["self"])),onMousedown:T[9]||(T[9]=n.withModifiers(g=>n.unref(ce)(g),["self"]))},[ue.value?n.createCommentVNode("",!0):(n.openBlock(),n.createBlock(n.Transition,n.mergeProps({key:0},n.unref($),{appear:""},n.toHandlers(n.unref(D))),{default:n.withCtx(()=>[n.unref(y)?(n.openBlock(),n.createElementBlock("div",{key:0,class:n.normalizeClass(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",b.overlayClass]),style:n.normalizeStyle([{"z-index":"-1"},b.overlayStyle]),"aria-hidden":"true"},null,6)):n.createCommentVNode("",!0)]),_:1},16)),n.createVNode(n.Transition,n.mergeProps(n.unref(v),{appear:""},n.toHandlers(n.unref(L))),{default:n.withCtx(()=>[n.withDirectives(n.createElementVNode("div",n.mergeProps({ref_key:"vfmContentEl",ref:Xe,class:["vfm__content vfm--outline-none",[b.contentClass,{"vfm--prevent-auto":b.background==="interactive"}]],style:b.contentStyle,tabindex:"0"},n.unref(Ze),{onMousedown:T[6]||(T[6]=()=>n.unref(ce)())}),[n.renderSlot(b.$slots,"default"),b.showSwipeBanner?(n.openBlock(),n.createElementBlock("div",{key:0,ref_key:"swipeBannerEl",ref:qe,class:"vfm-swipe-banner-container",onTouchstart:T[2]||(T[2]=g=>n.unref(de)(g))},[n.renderSlot(b.$slots,"swipe-banner",{},()=>[n.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:T[0]||(T[0]=g=>b.swipeToClose==="left"&&g.preventDefault())},null,32),n.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:T[1]||(T[1]=g=>b.swipeToClose==="right"&&g.preventDefault())},null,32)])],544)):!b.showSwipeBanner&&b.preventNavigationGestures?(n.openBlock(),n.createElementBlock("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:T[5]||(T[5]=g=>n.unref(de)(g))},[n.createElementVNode("div",{class:"vfm-swipe-banner-back",onTouchstart:T[3]||(T[3]=g=>b.swipeToClose==="left"&&g.preventDefault())},null,32),n.createElementVNode("div",{class:"vfm-swipe-banner-forward",onTouchstart:T[4]||(T[4]=g=>b.swipeToClose==="right"&&g.preventDefault())},null,32)],32)):n.createCommentVNode("",!0)],16),[[n.vShow,n.unref(w)]])]),_:3},16)],38)),[[n.vShow,b.displayDirective!=="show"||n.unref(a)]]):n.createCommentVNode("",!0)}}),Je="",Q={...A,teleportTo:{type:[String,null,Boolean,Object],default:"body"}},Ne=n.defineComponent({inheritAttrs:!1}),ee=n.defineComponent({...Ne,__name:"VueFinalModal",props:Q,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(e,{emit:o}){const d=ae({props:e,modalProps:A,emit:o});return(l,r)=>(n.openBlock(),n.createBlock(n.Teleport,{to:l.teleportTo?l.teleportTo:void 0,disabled:!l.teleportTo},[n.createVNode(J,n.normalizeProps(n.guardReactiveProps(n.unref(d))),{default:n.withCtx(()=>[n.renderSlot(l.$slots,"default")]),_:3},16)],8,["to","disabled"]))}}),ne=Symbol("vfm"),oe=Symbol("internalVfm");function Y(){return n.inject(ne)}function te(){return n.inject(oe)}function le(e,o=ee){const{component:t,slots:s,...d}=e,l=typeof s>"u"?{}:Object.fromEntries(Object.entries(s).map(([r,i])=>V.isString(i)?[r,i]:"component"in i?[r,{...i,component:n.markRaw(i.component)}]:[r,n.markRaw(i)]));return{...d,component:n.markRaw(t||o),slots:l}}const Re=function(e){var i;const o=n.reactive({id:Symbol("useModal"),modelValue:!!(e!=null&&e.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...le(e)});o.context||(n.getCurrentInstance()?o.context=Y():console.warn("[Vue Final Modal warn] useModal() can only be used inside setup() or functional components."));function t(){return o.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened"):(o.modelValue=!0,new Promise(c=>{o.resolveOpened=()=>c("opened")}))}function s(){return o.modelValue?(o.modelValue=!1,new Promise(c=>{o.resolveClosed=()=>c("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed")}function d(c){const{slots:f,...u}=le(c,o.component);se(o,u),f&&Object.entries(f).forEach(([h,p])=>{const m=o.slots[h];V.isString(m)?o.slots[h]=p:re(m)&&re(p)?se(m,p):o.slots[h]=p})}function l(){if(!o.context)return;const c=o.context.dynamicModals.indexOf(o);c!==-1&&o.context.dynamicModals.splice(c,1)}const r={options:o,open:t,close:s,patchOptions:d,destroy:l};return(i=r.options.context)==null||i.dynamicModals.push(r.options),V.tryOnUnmounted(()=>r.destroy()),r};function Ae(e,o){return Object.entries(o).forEach(([t,s])=>{e[t]=s}),e}function se(e,o){o.component&&(e.component=o.component),o.attrs&&Ae(e.attrs,o.attrs)}function re(e){return"component"in e||"attrs"in e}function Fe(e,o){return Object.keys(o).reduce((t,s)=>(t[s]=e[s],t),{})}function He(e){return e?{"onUpdate:modelValue":o=>e("update:modelValue",o),onBeforeClose:()=>e("beforeClose"),onClosed:()=>e("closed"),onBeforeOpen:()=>e("beforeOpen"),onOpened:()=>e("opened"),onClickOutside:()=>e("clickOutside")}:{}}function ae(e){const{props:o,modalProps:t,emit:s}=e,d=n.computed(()=>Fe(o,t)),l=He(s),r=n.useAttrs();return n.computed(()=>({...d.value,...l,...r}))}const je=["innerHTML"],ze=n.defineComponent({__name:"ModalsContainer",setup(e){const o=Y(),t=te(),s=Symbol("ModalsContainer"),d=n.computed(()=>{var c;return s===((c=o.modalsContainers.value)==null?void 0:c[0])}),l=n.shallowRef([]);function r(){l.value=o.dynamicModals.filter(c=>c.modelValue)}function i(c){c==null||c(),r()}return n.watch(()=>{var c;return(c=o.dynamicModals)==null?void 0:c.map(f=>f.modelValue)},(c,f)=>{if(!f||c.length!==f.length){r();return}let u=c.length,h=!1;for(;!h&&u--;)c[u]===!0&&f[u]===!1&&(h=!0);h&&r()},{immediate:!0}),o.modalsContainers.value.push(s),n.onBeforeUnmount(()=>{o.modalsContainers.value=o.modalsContainers.value.filter(c=>c!==s)}),(c,f)=>d.value?(n.openBlock(!0),n.createElementBlock(n.Fragment,{key:0},n.renderList(l.value,(u,h)=>(n.openBlock(),n.createBlock(n.resolveDynamicComponent(u.component),n.mergeProps({key:u.id},u.attrs,{modelValue:u.modelValue,"onUpdate:modelValue":p=>u.modelValue=p,onClosed:p=>i(()=>{var m,C;return(C=(m=n.unref(t)).resolvedClosed)==null?void 0:C.call(m,h)}),onOpened:()=>{var p,m;return(m=(p=n.unref(t)).resolvedOpened)==null?void 0:m.call(p,h)}}),n.createSlots({_:2},[n.renderList(u.slots,(p,m)=>({name:m,fn:n.withCtx(()=>[n.unref(V.isString)(p)?(n.openBlock(),n.createElementBlock("div",{key:0,innerHTML:p},null,8,je)):"component"in p?(n.openBlock(),n.createBlock(n.resolveDynamicComponent(p.component),n.normalizeProps(n.mergeProps({key:1},p.attrs)),null,16)):(n.openBlock(),n.createBlock(n.resolveDynamicComponent(p),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):n.createCommentVNode("",!0)}}),Ue=e=>e;function Ye(){const e=n.shallowReactive([]),o=n.shallowReactive([]),t=n.shallowReactive([]),s=n.ref([]),d=n.markRaw({install(l){l.provide(ne,d),l.config.globalProperties.$vfm=d;const r=$e(d);l.provide(oe,r)},modals:e,openedModals:o,dynamicModals:t,modalsContainers:s,get(l){return e.find(r=>r.value.modalId&&l===r.value.modalId)},toggle(l,r){const i=d.get(l);return i==null?void 0:i.value.toggle(r)},open(l){return d.toggle(l,!0)},close(l){return d.toggle(l,!1)},closeAll(){return Promise.allSettled([o.map(l=>l.value.toggle(!1))])}});return d}function $e(e){const{modals:o,openedModals:t,dynamicModals:s}=e,d={deleteFromModals(l){const r=o.findIndex(i=>i.value===l.value);r!==-1&&o.splice(r,1)},moveToLastOpenedModals(l){d.deleteFromOpenedModals(l),t.push(l)},deleteFromOpenedModals(l){const r=t.findIndex(i=>i.value===l.value);r!==-1&&t.splice(r,1)},async openLastOverlay(){var l;if(await n.nextTick(),t.forEach(r=>r.value.overlayVisible.value=!1),t.length>0){const r=t[t.length-1];!((l=r.value.hideOverlay)!=null&&l.value)&&(r.value.overlayVisible.value=!0)}},resolvedClosed(l){var r,i;(i=(r=s[l])==null?void 0:r.resolveClosed)==null||i.call(r)},resolvedOpened(l){var r,i;(i=(r=s[l])==null?void 0:r.resolveOpened)==null||i.call(r)}};return d}S.CoreModal=J,S.ModalsContainer=ze,S.VueFinalModal=ee,S.coreModalProps=A,S.createVfm=Ye,S.useModal=Re,S.useModalSlot=Ue,S.useVfm=Y,S.useVfmAttrs=ae,S.vueFinalModalProps=Q,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
